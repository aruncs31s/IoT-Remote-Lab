<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}IoT Remote Lab{% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/base.css') }}">
    
    {% block extra_css %}
    {% endblock %}

    {% block extra_head %}{% endblock %}
</head>
<body>
    <div class="container">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="nav-container">
                <a href="{{ url_for('home') }}" class="nav-brand">
                    <span class="nav-brand-icon">🌸</span>
                    IoT Remote Lab
                </a>
                
                <ul class="nav-menu" id="nav-menu">
                    <li class="nav-item">
                        <a href="{{ url_for('home') }}" class="nav-link {% if request.endpoint == 'home' %}active{% endif %}">
                            🏠 Home
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ url_for('device_list_page') }}" class="nav-link {% if request.endpoint == 'device_list_page' %}active{% endif %}">
                            📱 Device List
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ url_for('simulator') }}" class="nav-link {% if request.endpoint == 'simulator' %}active{% endif %}">
                            🔬 Simulator
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="{{ url_for('programmer') }}" class="nav-link {% if request.endpoint == 'programmer' %}active{% endif %}">
                            💻 Programmer
                        </a>
                    </li>
                </ul>
                
                <button class="nav-toggle" id="nav-toggle">
                    ☰
                </button>
            </div>
        </nav>

        <div class="header">
            <h1>{% block page_title %}🌸 IoT Remote Lab{% endblock %}</h1>
            <p>{% block page_subtitle %}Manage and Control Your ESP Devices with Catppuccin Style{% endblock %}</p>
        </div>

        <div class="main-content">
            {% block content %}
            <div class="empty-state">
                <div class="empty-state-icon">🔌</div>
                <h3>Welcome to IoT Remote Lab</h3>
                <p>This is the base template. Please extend it with your content.</p>
            </div>
            {% endblock %}
        </div>
    </div>

    {% block scripts %}{% endblock %}
    
    <!-- Navigation Toggle Script -->
    <script>
        // Mobile navigation toggle
        const navToggle = document.getElementById('nav-toggle');
        const navMenu = document.getElementById('nav-menu');
        
        if (navToggle && navMenu) {
            navToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });
            
            // Close mobile menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!navToggle.contains(e.target) && !navMenu.contains(e.target)) {
                    navMenu.classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>